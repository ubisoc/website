<%= javascript_include_tag 'jquery.min.js' %>
<%= javascript_include_tag 'jquery.dropotron.min.js' %>
<%= javascript_include_tag 'skel.min.js' %>
<%= javascript_include_tag 'util.js' %>
<!--[if lte IE 8]><<%= javascript_include_tag 'ie/respond.min.js' %><![endif]-->
<% if current_page.data.additional_js %>
  <% current_page.data.additional_js do |js| %>
    <%= javascript_include_tag js %>
  <% end %>
<% end %>
<%= javascript_include_tag 'main.js' %>

<% if current_page.data.title == "local-mosques" %>
<script>
  function initMap() {
    var center = {lat: 52.451896, lng: -1.910822};
    var chaplaincy = {lat: 52.449417, lng: -1.926418};
    var jalalabad = {lat: 52.442649, lng: -1.934597};
    var muslimStudentHouse = {lat: 52.457380, lng: -1.885944};

    // =========================== Windows
    var chaplaincyStr =
      '<div id="content">'+
      '<div id="siteNotice">'+
      '</div>'+
      '<h1 id="firstHeading" class="firstHeading">University of Birmingham Chaplaincy (St Francis Hall)</h1>'+
      '<div id="bodyContent">'+
      '<p>Not exactly a mosque but it is a multi-faith centre which religious societies at the University of Birmingham use.' +
      'Located right behind the Guild of Students, it is the venue which the Islamic Society use to host Jumuah (Friday Prayers) every single Friday of the year.</p>'+
      '</div>'+
      '</div>';

    var chaplaincyWindow = new google.maps.InfoWindow({
      content: chaplaincyStr
    });

    var jalalabadStr =
      '<div id="content">'+
      '<div id="siteNotice">'+
      '</div>'+
      '<h1 id="firstHeading" class="firstHeading">Jalalabad Mosque</h1>'+
      '<div id="bodyContent">'+
      '<p>A local mosque located in Selly Oak. The only mosque within a 30 minute walk of campus.' +
      'Congregational prayer for every prayer is held in this mosque every single day of the year.' +
      'They hold Friday and Eid Day Prayers.' +
      '</p>'+
      '</div>'+
      '</div>';

    var jalalabadWindow = new google.maps.InfoWindow({
      content: jalalabadStr
    });

    var muslimStudentHouseStr =
    '<div id="content">'+
    '<div id="siteNotice">'+
    '</div>'+
    '<h1 id="firstHeading" class="firstHeading">Muslim Student House Mosque</h1>'+
    '<div id="bodyContent">'+
    '<p>The closest mosque after Jalalabad and is located in Moseley. 45 minute walk from campus. Quite a large mosque with regular events and activities.' +
    'FOSIS (Federation of Student Islamic Societies), MAB Youth (Muslim Association of Britain) and the University of Birmingham Islamic Society all' +
    'work in partnership with Muslim Student House and share facilities. Congregational prayer for every prayer is held in this mosque every single day of the year.' +
    'They hold Friday and Eid Day Prayers.' +
    '</p>'+
    '</div>'+
    '</div>';

    var muslimStudentHouseWindow = new google.maps.InfoWindow({
      content: muslimStudentHouseStr
    });

    // =========================== Create map
    var map = new google.maps.Map(document.getElementById('map'), {
      zoom: 14,
      center: center
    });

    // =========================== Chaplaincy
    var chaplaincyMarker = new google.maps.Marker({
      position: chaplaincy,
      map: map
    });
    chaplaincyMarker.addListener('click', function() {
      chaplaincyWindow.open(map, chaplaincyMarker);
    });

    // =========================== Jalalabad
    var jalalabadMarker = new google.maps.Marker({
      position: jalalabad,
      map: map
    });
    jalalabadMarker.addListener('click', function() {
      jalalabadWindow.open(map, jalalabadMarker);
    });

    // =========================== Muslim Student House
    var muslimStudentHouseMarker = new google.maps.Marker({
      position: muslimStudentHouse,
      map: map
    });
    muslimStudentHouseMarker.addListener('click', function() {
      muslimStudentHouseWindow.open(map, muslimStudentHouseMarker);
    });
  }
</script>
<script async defer
src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD-WxzbnwrSbcxcKWmR3gueYdGmdjXcvYI&callback=initMap">
</script>
<% end %>

<% if current_page.data.title == "halal-places-to-eat" %>
<script>
function initMap() {
  // =========================== Create map
  var map = new google.maps.Map(document.getElementById('map'), {
    zoom: 16,
    center: {
      lat: 52.445637,
      lng: -1.933569
    }
  });

  // =========================== Locations
  var places = [];

  // Pepe's
  places.push({
    marker: new google.maps.Marker({
      position: {
        lat: 52.445070,
        lng: -1.934376
      },
      map: map
    }),

    window: new google.maps.InfoWindow({
      content:
      '<div id="content">'+
      '<div id="siteNotice">'+
      '</div>'+
      '<h1 id="firstHeading" class="firstHeading">Pepe\'s</h1>'+
      '<div id="bodyContent">'+
      '<img src="http://s3.amazonaws.com/ldc/large/2297/22979225.jpg">' +
      '</div>'+
      '</div>'
    })
  });

  // Dixy Chicken
  places.push({
    marker: new google.maps.Marker({
      position: {
        lat: 52.446270,
        lng: -1.932501
      },
      map: map
    }),

    window: new google.maps.InfoWindow({
      content:
      '<div id="content">'+
      '<div id="siteNotice">'+
      '</div>'+
      '<h1 id="firstHeading" class="firstHeading">Dixy Chicken</h1>'+
      '<div id="bodyContent">'+
      '<img src="https://i.ebayimg.com/00/s/NTc1WDEwMjQ=/z/4zEAAOSwal5YLGZs/$_86.JPG">' +
      '</div>'+
      '</div>'
    })
  });

  // Chicken.com
  places.push({
    marker: new google.maps.Marker({
      position: {
        lat: 52.445637,
        lng: -1.933569
      },
      map: map
    }),

    window: new google.maps.InfoWindow({
      content:
      '<div id="content">'+
      '<div id="siteNotice">'+
      '</div>'+
      '<h1 id="firstHeading" class="firstHeading">Chicken.com</h1>'+
      '<div id="bodyContent">'+
      '<img src="https://i.ebayimg.com/00/s/NTc1WDEwMjQ=/z/4zEAAOSwal5YLGZs/$_86.JPG">' +
      '</div>'+
      '</div>'
    })
  });

  // Pizza Land
  places.push({
    marker: new google.maps.Marker({
      position: {
        lat: 52.445108,
        lng: -1.934392
      },
      map: map
    }),

    window: new google.maps.InfoWindow({
      content:
      '<div id="content">'+
      '<div id="siteNotice">'+
      '</div>'+
      '<h1 id="firstHeading" class="firstHeading">Pizza Land</h1>'+
      '<div id="bodyContent">'+
      '<img src="https://s3-media1.fl.yelpcdn.com/bphoto/rBHSsHUx2VNQ62Tm9AZOgQ/348s.jpg">' +
      '</div>'+
      '</div>'
    })
  });

  // Luciano's
  places.push({
    marker: new google.maps.Marker({
      position: {
        lat: 52.444700,
        lng: -1.934926
      },
      map: map
    }),

    window: new google.maps.InfoWindow({
      content:
      '<div id="content">'+
      '<div id="siteNotice">'+
      '</div>'+
      '<h1 id="firstHeading" class="firstHeading">Luciano\'s</h1>'+
      '<div id="bodyContent">'+
      '<img src="https://b.zmtcdn.com/data/pictures/0/6900030/a012c443a9d7ed4b05233789d0804db4.jpg?fit=around%7C200%3A200&crop=200%3A200%3B%2A%2C%2A">' +
      '</div>'+
      '</div>'
    })
  });

  // Turkish Kitchen
  places.push({
    marker: new google.maps.Marker({
      position: {
        lat: 52.446541,
        lng: -1.931615
      },
      map: map
    }),

    window: new google.maps.InfoWindow({
      content:
      '<div id="content">'+
      '<div id="siteNotice">'+
      '</div>'+
      '<h1 id="firstHeading" class="firstHeading">Turkish Kitchen</h1>'+
      '<div id="bodyContent">'+
      '<img src="https://media-cdn.tripadvisor.com/media/photo-s/0e/c7/82/a5/turkish-kitchen.jpg">' +
      '</div>'+
      '</div>'
    })
  });

  // Yakinori
  places.push({
    marker: new google.maps.Marker({
      position: {
        lat: 52.446151,
        lng: -1.932060
      },
      map: map
    }),

    window: new google.maps.InfoWindow({
      content:
      '<div id="content">'+
      '<div id="siteNotice">'+
      '</div>'+
      '<h1 id="firstHeading" class="firstHeading">Yakinori</h1>'+
      '<div id="bodyContent">'+
      '<img src="https://thehungrypair.files.wordpress.com/2015/06/image1-91.jpeg?w=748&h=561">' +
      '</div>'+
      '</div>'
    })
  });

  // Wanted Burgers
  places.push({
    marker: new google.maps.Marker({
      position: {
        lat: 52.444356,
        lng: -1.935553
      },
      map: map
    }),

    window: new google.maps.InfoWindow({
      content:
      '<div id="content">'+
      '<div id="siteNotice">'+
      '</div>'+
      '<h1 id="firstHeading" class="firstHeading">Wanted Burgers</h1>'+
      '<div id="bodyContent">'+
      '<img src="http://wantedburgers.com/media/logo.png">' +
      '</div>'+
      '</div>'
    })
  });

  places.forEach(function (place) {
    place.marker.addListener('click', function() {
      place.window.open(map, place.marker);
    });
  });
}

</script>
<script async defer
src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD-WxzbnwrSbcxcKWmR3gueYdGmdjXcvYI&callback=initMap">
</script>
<% end %>

<!-- GOOGLE ANALYTICS -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-104974999-1', 'auto');
  ga('send', 'pageview');

</script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-108421859-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-108421859-1');
</script>
